# ‚úÖ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï–ú –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê

**–î–∞—Ç–∞:** 15 —è–Ω–≤–∞—Ä—è 2026 –≥.
**–ü—Ä–æ–µ–∫—Ç:** PDM mini-ERP System

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ **–°–¢–ï–ù–î 001** –≤–æ –≤–∫–ª–∞–¥–∫–µ "–°—Ç—Ä—É–∫—Ç—É—Ä–∞" –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å 8 –¥–µ—Ç—å–º–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å:
- 19 —Å—Ç—Ä–æ–∫ "–≥–∞–π–∫–∞"
- 31 —Å—Ç—Ä–æ–∫–∞ "–±–æ–ª—Ç"

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ê–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑–∞–ª:
1. ‚úÖ **–ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –±–∞–∑–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è (1 –∫–æ—Ä–µ–Ω—å —Å 8 –¥–µ—Ç—å–º–∏)
2. ‚úÖ **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - parent_item —Å–≤—è–∑–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
3. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ** - –∫–æ–¥ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:

**–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
- **–ë–î —Ö—Ä–∞–Ω–∏—Ç:** —Ä—É—Å—Å–∫–∏–µ –∫–æ–¥—ã (`–°–¢–ï–ù–î`, `—Å–∏—Å—Ç–µ–º—ã`, `–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã`, `—Å–±–æ—Ä–æ—á–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã`, `–¥–µ—Ç–∞–ª–∏`, `—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è`, `–ø—Ä–æ—á–∏–µ –∏–∑–¥–µ–ª–∏—è`)
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–ª:** –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∫–æ–¥—ã (`manufactured`, `assembly`, `material`, `standard_product`, `other_product`)

–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä—ã —Ç–∏–ø–∞:
```typescript
projectItems.filter((i: ProjectItem) => 
  i.category === 'manufactured' || i.category === 'assembly'
)
```
**–ù–ï –ù–ê–•–û–î–ò–õ–ò** —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–∞–∫ –∫–∞–∫ `i.category` —Å–æ–¥–µ—Ä–∂–∞–ª —Ä—É—Å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. Backend (API)

–î–æ–±–∞–≤–∏–ª –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ `is_purchased` –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã:

**–§–∞–π–ª:** `backend/presentation/api/v1/serializers/project.py`

```python
class ProjectItemListSerializer(BaseModelSerializer):
    # ...
    is_purchased = serializers.SerializerMethodField()
    
    def get_is_purchased(self, obj):
        """Return whether this item is purchased (based on nomenclature's catalog category)."""
        if obj.nomenclature_item and obj.nomenclature_item.catalog_category:
            return obj.nomenclature_item.catalog_category.is_purchased
        return False
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `ProjectItemDetailSerializer`.

### 2. Frontend (TypeScript)

#### 2.1 –û–±–Ω–æ–≤–∏–ª –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–§–∞–π–ª:** `frontend/src/features/projects/api.ts`

```typescript
export interface ProjectItem {
  // ...
  // Computed
  is_overdue?: boolean;
  days_remaining?: number;
  children_count?: number;
  is_purchased?: boolean;  // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
  // ...
}
```

#### 2.2 –ò—Å–ø—Ä–∞–≤–∏–ª —Ñ–∏–ª—å—Ç—Ä—ã

**–§–∞–π–ª:** `frontend/src/pages/projects/ProjectDetailPage.tsx`

**–ë–´–õ–û:**
```typescript
const manufacturedItems = useMemo(() => 
  projectItems.filter((i: ProjectItem) => 
    i.category === 'manufactured' || i.category === 'assembly'
  ),
  [projectItems]
);
```

**–°–¢–ê–õ–û:**
```typescript
const manufacturedItems = useMemo(() => 
  projectItems.filter((i: ProjectItem) => !i.is_purchased),
  [projectItems]
);

const purchasedItems = useMemo(() => 
  projectItems.filter((i: ProjectItem) => i.is_purchased),
  [projectItems]
);
```

#### 2.3 –û–±–Ω–æ–≤–∏–ª ProjectStructureTable

**–§–∞–π–ª:** `frontend/src/features/projects/components/ProjectStructureTable.tsx`

–ó–∞–º–µ–Ω–∏–ª –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

**–ë–´–õ–û:**
```typescript
const isPurchased = ['material', 'standard_product', 'other_product']
  .includes(record.category);
```

**–°–¢–ê–õ–û:**
```typescript
const isPurchased = record.is_purchased === true;
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
‚úì Project: –°–¢–ï–ù–î 001
‚úì Total items in DB: 132
‚úì Serialized items: 132
‚úì Root items (no parent): 1

‚úì Root has 8 direct children:
  1. –≥–∞–π–∫–∞                        | Children:  0 | –ò–ó–ì–û–¢
  2. —Ä–µ–ª–µ                         | Children:  0 | –ó–ê–ö–£–ü
  3. –°–∏—Å—Ç–µ–º–∞ 0002                 | Children:  4 | –ò–ó–ì–û–¢
  4. –°–∏—Å—Ç–µ–º–∞ 0001                 | Children:  6 | –ò–ó–ì–û–¢
  5. –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ 00003             | Children:  4 | –ò–ó–ì–û–¢
  6. –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ 00002             | Children:  3 | –ò–ó–ì–û–¢
  7. –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ 00001             | Children:  3 | –ò–ó–ì–û–¢
  8. —Å–±. –µ–¥. 000003               | Children:  3 | –ò–ó–ì–û–¢

‚úì Checking is_purchased field:
  - Purchased items: 27
  - Manufactured items: 105
  - Total: 132

‚úì Maximum tree depth: 6 levels
```

### –°—Ç–∞—Ç—É—Å:
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `is_purchased` –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ë—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª—ë–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (hot reload)

## üéì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í—ã–±—Ä–∞–Ω–æ **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏–Ω–≤–∞–∑–∏–≤–Ω–æ–µ** —Ä–µ—à–µ–Ω–∏–µ:
- ‚úÖ –ù–µ –∏–∑–º–µ–Ω—è–ª–∏ —Å—Ö–µ–º—É –ë–î
- ‚úÖ –ù–µ –º–µ–Ω—è–ª–∏ –∫–æ–¥—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ –≤ API
- ‚úÖ –û–±–Ω–æ–≤–∏–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±—É–ª–µ–≤–æ–≥–æ —Ñ–ª–∞–≥–∞ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ:
- **–£—Å—Ç–æ–π—á–∏–≤–æ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º** - –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–¥–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ** - –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ** - `is_purchased` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ß–∏—Ç–∞–µ–º–æ** - –∫–æ–¥ —Å—Ç–∞–ª –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –í–æ–π–¥–∏—Ç–µ (admin / admin123)
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç "–°–¢–ï–ù–î 001"
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°—Ç—Ä—É–∫—Ç—É—Ä–∞"

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- –ö–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç "–°–¢–ï–ù–î 001" —Å –∫–Ω–æ–ø–∫–æ–π —Ä–∞—Å–∫—Ä—ã—Ç–∏—è
- –ü—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏ - 8 –ø—Ä—è–º—ã—Ö –¥–µ—Ç–µ–π
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –±–µ–∑ –¥—É–±–ª–µ–π
- –ú–µ—Ç–∫–∏ "–ò–ó–ì–û–¢" –∏ "–ó–ê–ö–£–ü" –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
